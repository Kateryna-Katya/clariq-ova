{"version":3,"file":"main-JNRyi3-7.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * Project: Clariq-ova IT School\n * Final Integrated Script 2026\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    // --- 0. Регистрация плагинов ---\n    if (typeof gsap !== 'undefined') {\n        gsap.registerPlugin(ScrollTrigger);\n    }\n\n    // --- 1. Плавный скролл (Lenis) ---\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        orientation: 'vertical',\n        gestureOrientation: 'vertical',\n        smoothWheel: true,\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // --- 2. Мобильное меню (Исправленное закрытие) ---\n    const burgerBtn = document.getElementById('burgerBtn');\n    const mobileMenu = document.getElementById('mobileMenu');\n    // Выбираем все ссылки внутри мобильного меню\n    const mobileLinks = document.querySelectorAll('.mobile-menu a');\n\n    if (burgerBtn && mobileMenu) {\n        const toggleMenu = () => {\n            const isOpen = mobileMenu.classList.toggle('is-active');\n            burgerBtn.classList.toggle('is-active');\n            document.body.style.overflow = isOpen ? 'hidden' : '';\n        };\n\n        const closeMenu = () => {\n            burgerBtn.classList.remove('is-active');\n            mobileMenu.classList.remove('is-active');\n            document.body.style.overflow = '';\n        };\n\n        burgerBtn.addEventListener('click', (e) => {\n            e.stopPropagation();\n            toggleMenu();\n        });\n\n        // Закрытие при клике на любую ссылку (фикс бага)\n        mobileLinks.forEach(link => {\n            link.addEventListener('click', closeMenu);\n        });\n\n        // Закрытие при клике вне меню\n        document.addEventListener('click', (e) => {\n            if (mobileMenu.classList.contains('is-active') && \n                !mobileMenu.contains(e.target) && \n                e.target !== burgerBtn) {\n                closeMenu();\n            }\n        });\n    }\n\n    // --- 3. Глобальные анимации (Loader + Hero) ---\n    const tl = gsap.timeline();\n\n    if (document.querySelector('.loader-overlay')) {\n        tl.to('.loader-overlay', {\n            scaleY: 0,\n            duration: 1.2,\n            ease: \"expo.inOut\"\n        });\n    }\n\n    if (document.querySelector('.hero')) {\n        tl.from('.hero__badge', { y: 20, opacity: 0, duration: 0.6 }, \"-=0.4\")\n          .from('.hero__title', { y: 40, opacity: 0, duration: 0.8, ease: \"power4.out\" }, \"-=0.3\")\n          .from('.hero__subtitle', { y: 20, opacity: 0, duration: 0.6 }, \"-=0.5\")\n          .from('.hero__actions .btn', { x: -20, opacity: 0, stagger: 0.2, duration: 0.6 }, \"-=0.4\")\n          .from('.hero__circle', { scale: 0, opacity: 0, stagger: 0.3, duration: 1.5, ease: \"elastic.out(1, 0.5)\" }, \"-=1\");\n\n        // Параллакс кругов за мышью\n        window.addEventListener('mousemove', (e) => {\n            const { clientX, clientY } = e;\n            const xPos = (clientX / window.innerWidth - 0.5) * 40;\n            const yPos = (clientY / window.innerHeight - 0.5) * 40;\n            gsap.to('.hero__circle--1', { x: xPos, y: yPos, duration: 2, ease: \"power2.out\" });\n            gsap.to('.hero__circle--2', { x: -xPos, y: -yPos, duration: 2, ease: \"power2.out\" });\n        });\n    }\n\n    // --- 4. Анимация появления секций при скролле ---\n    const fadeElements = document.querySelectorAll('.fade-up');\n    fadeElements.forEach(el => {\n        gsap.from(el, {\n            scrollTrigger: {\n                trigger: el,\n                start: \"top 90%\",\n                toggleActions: \"play none none none\"\n            },\n            y: 50,\n            opacity: 0,\n            duration: 1,\n            ease: \"power3.out\"\n        });\n    });\n\n    // --- 5. Эффекты шапки ---\n    const header = document.querySelector('.header');\n    if (header) {\n        window.addEventListener('scroll', () => {\n            if (window.scrollY > 50) {\n                header.style.padding = '12px 0';\n                header.style.background = 'rgba(5, 10, 21, 0.95)';\n            } else {\n                header.style.padding = '20px 0';\n                header.style.background = 'rgba(5, 10, 21, 0.8)';\n            }\n        });\n    }\n\n    // --- 6. Капча и валидация формы ---\n    const form = document.getElementById('mainForm');\n    const captchaLabel = document.getElementById('captchaLabel');\n    const captchaInput = document.getElementById('captchaInput');\n    const phoneInput = document.getElementById('phoneInput');\n    const status = document.getElementById('formStatus');\n\n    if (form) {\n        // Генерация капчи\n        let n1 = Math.floor(Math.random() * 10);\n        let n2 = Math.floor(Math.random() * 10);\n        if (captchaLabel) captchaLabel.innerText = `${n1} + ${n2} = ?`;\n\n        // Только цифры в поле телефона\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/\\D/g, '');\n        });\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n\n            // Проверка капчи\n            if (parseInt(captchaInput.value) !== (n1 + n2)) {\n                alert('Ошибка: Неверный результат капчи!');\n                return;\n            }\n\n            // Имитация отправки\n            status.innerText = \"Отправка сообщения...\";\n            status.className = \"form-status success\";\n            status.style.display = \"block\";\n\n            setTimeout(() => {\n                status.innerText = \"Успешно! Мы свяжемся с вами в ближайшее время.\";\n                form.reset();\n                // Обновляем капчу для следующего раза\n                n1 = Math.floor(Math.random() * 10);\n                n2 = Math.floor(Math.random() * 10);\n                captchaLabel.innerText = `${n1} + ${n2} = ?`;\n            }, 2000);\n        });\n    }\n\n    // --- 7. Cookie Popup ---\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptCookies = document.getElementById('acceptCookies');\n\n    if (cookiePopup && acceptCookies) {\n        if (!localStorage.getItem('clariq_cookies_accepted')) {\n            setTimeout(() => {\n                cookiePopup.classList.add('is-show');\n            }, 3000);\n        }\n\n        acceptCookies.addEventListener('click', () => {\n            cookiePopup.classList.remove('is-show');\n            localStorage.setItem('clariq_cookies_accepted', 'true');\n        });\n    }\n\n    // --- 8. Навигация (Плавный переход по якорям) ---\n    document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n        anchor.addEventListener('click', function (e) {\n            e.preventDefault();\n            const targetId = this.getAttribute('href');\n            if (targetId === '#') return;\n            \n            const target = document.querySelector(targetId);\n            if (target) {\n                lenis.scrollTo(target, { offset: -80 });\n            }\n        });\n    });\n});"],"names":["lenis","t","raf","time","burgerBtn","mobileMenu","mobileLinks","toggleMenu","isOpen","closeMenu","link","tl","e","clientX","clientY","xPos","yPos","el","header","form","captchaLabel","captchaInput","phoneInput","status","n1","n2","cookiePopup","acceptCookies","anchor","targetId","target"],"mappings":"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"}